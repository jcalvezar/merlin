(this.webpackJsonppinky=this.webpackJsonppinky||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),o=a(21),s=a(34),l=a(69),j=a(47),d="AUTH_LOGIN",b="AUTH_LOGOUT",h={loggedIn:!1,user:{}};var u=a(74),g="SET_DATA",p={data:[]};var O=Object(s.c)({authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return{loggedIn:!0,user:Object(j.a)({},t.payload.user)};case b:return{loggedIn:!1,user:{}};default:return e}},dataReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var a=t.payload.data;return{data:Object(u.a)(a)};default:return e}}}),m=Object(s.d)(O,Object(s.a)(l.a)),x=a(44),f=a(13),v=a(75),y=a(4);function k(e){var t=e.children,a=Object(v.a)(e,["children"]),n=Object(o.c)((function(e){return e.authReducer})).loggedIn;return Object(y.jsx)(f.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){var a=e.location;return n?t:Object(y.jsx)(f.a,{to:{pathname:"/login",state:{from:a}}})}}))}var N=a(166),w=a(153),C=a(151),I=a(163),A=a(152),R=a(165),S=a(148),T=a(107),W=a(164),G=a(150),F=a(72),L=a.n(F),z=a(76),D=a(149),E=a(59),q=a.n(E),B=a(70);function J(){return"Sistema Merlin"}function U(){return Object(y.jsxs)(z.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(y.jsx)(S.a,{color:"inherit",href:"https://material-ui.com/",children:Object(y.jsx)(J,{})})," ",(new Date).getFullYear(),"."]})}var _=a(71),H=a.n(_),P=Object(D.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(/merlin.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function M(){var e=P(),t=Object(o.c)((function(e){return e.authReducer})).loggedIn,a={email:"",password:""},r=Object(o.b)(),c=Object(f.g)();return Object(n.useEffect)((function(){t&&c.push("/")}),[t]),Object(y.jsxs)(G.a,{container:!0,component:"main",className:e.root,children:[Object(y.jsx)(C.a,{}),Object(y.jsx)(G.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),Object(y.jsx)(G.a,{item:!0,xs:12,sm:8,md:5,component:T.a,elevation:6,square:!0,children:Object(y.jsxs)("div",{className:e.paper,children:[Object(y.jsx)(N.a,{className:e.avatar,children:Object(y.jsx)(L.a,{})}),Object(y.jsxs)(z.a,{component:"h1",variant:"h5",children:["Ingreso al ",Object(y.jsx)(J,{})]}),Object(y.jsxs)("form",{className:e.form,noValidate:!0,children:[Object(y.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Direcci\xf3n de Email",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){a.email=e.target.value}}),Object(y.jsx)(I.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){a.password=H()(e.target.value)}}),Object(y.jsx)(A.a,{control:Object(y.jsx)(R.a,{value:"remember",color:"primary"}),label:"Recordar Ingreso"}),Object(y.jsx)(w.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(){var e;console.log("LOGIN ",a),r((e=a,function(){var t=Object(B.a)(q.a.mark((function t(a){var n,r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://jcalvez.info/apps/merlin/login/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,Object.keys(r.user).length>0?(a((i=r.user,{type:d,payload:{user:i}})),a((c=r.data,{type:g,payload:{data:c}}))):console.log("Login Faliure");case 7:case"end":return t.stop()}var c,i}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Ingresar"}),Object(y.jsxs)(G.a,{container:!0,children:[Object(y.jsx)(G.a,{item:!0,xs:!0,children:Object(y.jsx)(S.a,{href:"#",variant:"body2",children:"Olvid\xf3 la clave?"})}),Object(y.jsx)(G.a,{item:!0,children:Object(y.jsx)(S.a,{href:"#",variant:"body2",children:"No tiene cuenta? Registrarse"})})]}),Object(y.jsx)(W.a,{mt:5,children:Object(y.jsx)(U,{})})]})]})})]})}var V=a(160),Y=a(73),K=a.n(Y),Q=a(162),X=a(161),Z=a(5),$=a(157),ee=a(159),te=a(154),ae=a(156),ne=a(158),re=a(155),ce=Object(Z.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(te.a),ie=Object(Z.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(re.a),oe=Object(D.a)({table:{minWidth:700}});function se(){var e=oe(),t=Object(o.c)((function(e){return e.dataReducer})).data;return console.log("table data ",t),Object(y.jsx)(ae.a,{component:T.a,children:Object(y.jsxs)($.a,{className:e.table,"aria-label":"customized table",children:[Object(y.jsx)(ne.a,{children:Object(y.jsxs)(re.a,{children:[Object(y.jsx)(ce,{children:"Algo"}),Object(y.jsx)(ce,{align:"right",children:"Algo 1"}),Object(y.jsx)(ce,{align:"right",children:"Algo 2"}),Object(y.jsx)(ce,{align:"right",children:"Algo 3"}),Object(y.jsx)(ce,{align:"right",children:"Algo 4"}),Object(y.jsx)(ce,{align:"right",children:"Algo 5"})]})}),Object(y.jsx)(ee.a,{children:t.map((function(e,t){return Object(y.jsxs)(ie,{children:[Object(y.jsx)(ce,{component:"th",scope:"row",children:e.name}),Object(y.jsx)(ce,{align:"right",children:"1"}),Object(y.jsx)(ce,{align:"right",children:"2"}),Object(y.jsx)(ce,{align:"right",children:"3"}),Object(y.jsx)(ce,{align:"right",children:"4"}),Object(y.jsx)(ce,{align:"right",children:"5"})]},t)}))})]})})}var le=Object(D.a)((function(e){return{icon:{marginRight:e.spacing(2)},separador:{flexGrow:1},cardGrid:{paddingTop:e.spacing(6),paddingBottom:e.spacing(6)},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},email:{paddingRight:e.spacing(2)}}}));function je(){var e=le(),t=Object(o.c)((function(e){return e.authReducer})).user,a=Object(o.b)(),n=Object(f.g)();return Object(y.jsxs)(r.a.Fragment,{children:[Object(y.jsx)(C.a,{}),Object(y.jsx)(V.a,{position:"relative",children:Object(y.jsx)(X.a,{maxWidth:"lg",children:Object(y.jsxs)(Q.a,{children:[Object(y.jsx)(K.a,{className:e.icon}),Object(y.jsx)(z.a,{variant:"h6",color:"inherit",noWrap:!0,children:Object(y.jsx)(J,{})}),Object(y.jsx)("div",{className:e.separador}),Object(y.jsx)(z.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.email,children:t.lastName+", "+t.firstName}),Object(y.jsx)(w.a,{variant:"contained",color:"secondary",onClick:function(){a({type:b,payload:{}}),n.replace("/")},children:"Logout"})]})})}),Object(y.jsx)("main",{children:Object(y.jsx)(X.a,{className:e.cardGrid,maxWidth:"md",children:Object(y.jsx)(se,{})})}),Object(y.jsxs)("footer",{className:e.footer,children:[Object(y.jsx)(z.a,{variant:"h6",align:"center",gutterBottom:!0,children:"Footer"}),Object(y.jsx)(z.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Something here to give the footer a purpose!"}),Object(y.jsx)(U,{})]})]})}i.a.render(Object(y.jsx)(o.a,{store:m,children:Object(y.jsx)(x.a,{children:Object(y.jsxs)(f.d,{children:[Object(y.jsx)(k,{path:"/",exact:!0,children:Object(y.jsx)(je,{})}),Object(y.jsx)(f.b,{path:"/login",exact:!0,children:Object(y.jsx)(M,{})})]})})}),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.5f36e719.chunk.js.map